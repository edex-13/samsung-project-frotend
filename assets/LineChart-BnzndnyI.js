import{j as p,K as r,r as f,n as Ve}from"./index-BzG-UDRL.js";import{d as cr,J as ze,M as $e,T as dr,z as We,X as fr,b as pr,a as hr,y as mr,w as yr,E as qe,C as gr,g as br,$ as He,k as Ee,j as xr,W as vr,B as Ae,c as ke,e as Rr,f as qr,H as Cr,P as Ye,_ as Mr,h as Or,F as Sr,A as jr,Z as kr,D as De,p as Tr,m as Ie}from"./nivo-legends.es-DbnQh6rU.js";import{w as je,X as wr,z as Br,D as Xe,j as Wr,d as Er}from"./nivo-axes.es-DLW9gzl7.js";import{a as Je,u as Pr}from"./isEqual-BBbCH6bZ.js";import{O as Lr,x as Gr,P as Fr,j as Vr}from"./nivo-voronoi.es-CSFBm9I0.js";import{c as I}from"./constant-BhYcI2Bl.js";import{x as Yr,y as Dr,p as Xr,m as Ke}from"./line-BagSQlum.js";function zr(){var e=Yr,n=null,i=I(0),u=Dr,l=I(!0),c=null,h=cr,o=null;function a(t){var s,y,x,C=t.length,O,T=!1,P,q=new Array(C),v=new Array(C);for(c==null&&(o=h(P=Xr())),s=0;s<=C;++s){if(!(s<C&&l(O=t[s],s,t))===T)if(T=!T)y=s,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=s-1;x>=y;--x)o.point(q[x],v[x]);o.lineEnd(),o.areaEnd()}T&&(q[s]=+e(O,s,t),v[s]=+i(O,s,t),o.point(n?+n(O,s,t):q[s],u?+u(O,s,t):v[s]))}if(P)return o=null,P+""||null}function m(){return Ke().defined(l).curve(h).context(c)}return a.x=function(t){return arguments.length?(e=typeof t=="function"?t:I(+t),n=null,a):e},a.x0=function(t){return arguments.length?(e=typeof t=="function"?t:I(+t),a):e},a.x1=function(t){return arguments.length?(n=t==null?null:typeof t=="function"?t:I(+t),a):n},a.y=function(t){return arguments.length?(i=typeof t=="function"?t:I(+t),u=null,a):i},a.y0=function(t){return arguments.length?(i=typeof t=="function"?t:I(+t),a):i},a.y1=function(t){return arguments.length?(u=t==null?null:typeof t=="function"?t:I(+t),a):u},a.lineX0=a.lineY0=function(){return m().x(e).y(i)},a.lineY1=function(){return m().x(e).y(u)},a.lineX1=function(){return m().x(n).y(i)},a.defined=function(t){return arguments.length?(l=typeof t=="function"?t:I(!!t),a):l},a.curve=function(t){return arguments.length?(h=t,c!=null&&(o=h(c)),a):h},a.context=function(t){return arguments.length?(t==null?c=o=null:o=h(c=t),a):c},a}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(e[u]=i[u])}return e},k.apply(this,arguments)}var Ze=function(e){var n=e.point;return p.jsx(yr,{id:p.jsxs("span",{children:["x: ",p.jsx("strong",{children:n.data.xFormatted}),", y:"," ",p.jsx("strong",{children:n.data.yFormatted})]}),enableChip:!0,color:n.serieColor})};Ze.propTypes={point:r.object.isRequired};var $r=f.memo(Ze),Qe=function(e){var n=e.slice,i=e.axis,u=qe(),l=i==="x"?"y":"x";return p.jsx(gr,{rows:n.points.map(function(c){return[p.jsx(br,{color:c.serieColor,style:u.tooltip.chip},"chip"),c.serieId,p.jsx("span",{style:u.tooltip.tableCellValue,children:c.data[l+"Formatted"]},"value")]})})};Qe.propTypes={slice:r.object.isRequired,axis:r.oneOf(["x","y"]).isRequired};var Hr=f.memo(Qe),Ue={data:r.arrayOf(r.shape({id:r.oneOfType([r.string,r.number]).isRequired,data:r.arrayOf(r.shape({x:r.oneOfType([r.number,r.string,r.instanceOf(Date)]),y:r.oneOfType([r.number,r.string,r.instanceOf(Date)])})).isRequired})).isRequired,xScale:r.object.isRequired,xFormat:r.oneOfType([r.func,r.string]),yScale:r.object.isRequired,yFormat:r.oneOfType([r.func,r.string]),layers:r.arrayOf(r.oneOfType([r.oneOf(["grid","markers","axes","areas","crosshair","lines","slices","points","mesh","legends"]),r.func])).isRequired,curve:pr.isRequired,axisTop:je,axisRight:je,axisBottom:je,axisLeft:je,enableGridX:r.bool.isRequired,enableGridY:r.bool.isRequired,gridXValues:r.oneOfType([r.number,r.arrayOf(r.oneOfType([r.number,r.string,r.instanceOf(Date)]))]),gridYValues:r.oneOfType([r.number,r.arrayOf(r.oneOfType([r.number,r.string,r.instanceOf(Date)]))]),enablePoints:r.bool.isRequired,pointSymbol:r.func,pointSize:r.number.isRequired,pointColor:r.any.isRequired,pointBorderWidth:r.number.isRequired,pointBorderColor:r.any.isRequired,enablePointLabel:r.bool.isRequired,pointLabel:r.oneOfType([r.string,r.func]).isRequired,markers:r.arrayOf(r.shape({axis:r.oneOf(["x","y"]).isRequired,value:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,style:r.object})),colors:fr.isRequired,enableArea:r.bool.isRequired,areaOpacity:r.number.isRequired,areaBlendMode:We.isRequired,areaBaselineValue:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,lineWidth:r.number.isRequired,legends:r.arrayOf(r.shape(dr)).isRequired,isInteractive:r.bool.isRequired,debugMesh:r.bool.isRequired,tooltip:r.oneOfType([r.func,r.object]).isRequired,enableSlices:r.oneOf(["x","y",!1]).isRequired,debugSlices:r.bool.isRequired,sliceTooltip:r.oneOfType([r.func,r.object]).isRequired,enableCrosshair:r.bool.isRequired,crosshairType:r.string.isRequired},Ar=k({},Ue,{enablePointLabel:r.bool.isRequired,role:r.string.isRequired,useMesh:r.bool.isRequired},hr,mr),Ir=k({pixelRatio:r.number.isRequired},Ue),Ne={curve:"linear",xScale:{type:"point"},yScale:{type:"linear",min:0,max:"auto"},layers:["grid","markers","axes","areas","crosshair","lines","points","slices","mesh","legends"],axisBottom:{},axisLeft:{},enableGridX:!0,enableGridY:!0,enablePoints:!0,pointSize:6,pointColor:{from:"color"},pointBorderWidth:0,pointBorderColor:{theme:"background"},enablePointLabel:!1,pointLabel:"yFormatted",colors:{scheme:"nivo"},enableArea:!1,areaBaselineValue:0,areaOpacity:.2,areaBlendMode:"normal",lineWidth:2,legends:[],isInteractive:!0,tooltip:$r,enableSlices:!1,debugSlices:!1,sliceTooltip:Hr,debugMesh:!1,enableCrosshair:!0,crosshairType:"bottom-left"},J=k({},Ne,{enablePointLabel:!1,useMesh:!1,animate:!0,motionConfig:"gentle",defs:[],fill:[],role:"img"}),Jr=k({},Ne,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1}),Kr=function(e){var n=e.curve;return f.useMemo(function(){return Ke().defined(function(i){return i.x!==null&&i.y!==null}).x(function(i){return i.x}).y(function(i){return i.y}).curve(Ie(n))},[n])},Zr=function(e){var n=e.curve,i=e.yScale,u=e.areaBaselineValue;return f.useMemo(function(){return zr().defined(function(l){return l.x!==null&&l.y!==null}).x(function(l){return l.x}).y1(function(l){return l.y}).curve(Ie(n)).y0(i(u))},[n,i,u])},Qr=function(e){var n=e.enableSlices,i=e.points,u=e.width,l=e.height;return f.useMemo(function(){if(n===!1)return[];if(n==="x"){var c=new Map;return i.forEach(function(o){o.data.x!==null&&o.data.y!==null&&(c.has(o.x)?c.get(o.x).push(o):c.set(o.x,[o]))}),Array.from(c.entries()).sort(function(o,a){return o[0]-a[0]}).map(function(o,a,m){var t,s=o[0],y=o[1],x=m[a-1],C=m[a+1];return{id:s,x0:t=x?s-(s-x[0])/2:s,x:s,y0:0,y:0,width:C?s-t+(C[0]-s)/2:u-t,height:l,points:y.reverse()}})}if(n==="y"){var h=new Map;return i.forEach(function(o){o.data.x!==null&&o.data.y!==null&&(h.has(o.y)?h.get(o.y).push(o):h.set(o.y,[o]))}),Array.from(h.entries()).sort(function(o,a){return o[0]-a[0]}).map(function(o,a,m){var t,s,y=o[0],x=o[1],C=m[a-1],O=m[a+1];return t=C?y-(y-C[0])/2:y,s=O?y-t+(O[0]-y)/2:l-t,{id:y,x0:0,x:0,y0:t,y,width:u,height:s,points:x.reverse()}})}},[n,i])},_e=function(e){var n=e.data,i=e.xScale,u=i===void 0?J.xScale:i,l=e.xFormat,c=e.yScale,h=c===void 0?J.yScale:c,o=e.yFormat,a=e.width,m=e.height,t=e.colors,s=t===void 0?J.colors:t,y=e.curve,x=y===void 0?J.curve:y,C=e.areaBaselineValue,O=C===void 0?J.areaBaselineValue:C,T=e.pointColor,P=T===void 0?J.pointColor:T,q=e.pointBorderColor,v=q===void 0?J.pointBorderColor:q,w=e.enableSlices,be=w===void 0?J.enableSlicesTooltip:w,ce=De(l),de=De(o),K=Tr(s,"id"),ee=qe(),fe=ke(P,ee),pe=ke(v,ee),Z=f.useState([]),re=Z[0],ne=Z[1],z=f.useMemo(function(){return Er(n.filter(function(g){return re.indexOf(g.id)===-1}),u,h,a,m)},[n,re,u,h,a,m]),he=z.xScale,Q=z.yScale,U=z.series,te=f.useMemo(function(){var g=n.map(function(R){return{id:R.id,label:R.id,color:K(R)}}),S=g.map(function(R){return k({},U.find(function(j){return j.id===R.id}),{color:R.color})}).filter(function(R){return!!R.id});return{legendData:g.map(function(R){return k({},R,{hidden:!S.find(function(j){return j.id===R.id})})}).reverse(),series:S}},[n,U,K]),me=te.legendData,F=te.series,$=f.useCallback(function(g){ne(function(S){return S.indexOf(g)>-1?S.filter(function(R){return R!==g}):[].concat(S,[g])})},[]),X=function(g){var S=g.series,R=g.getPointColor,j=g.getPointBorderColor,ie=g.formatX,B=g.formatY;return f.useMemo(function(){return S.reduce(function(H,L){return[].concat(H,L.data.filter(function(W){return W.position.x!==null&&W.position.y!==null}).map(function(W,N){var Y={id:L.id+"."+N,index:H.length+N,serieId:L.id,serieColor:L.color,x:W.position.x,y:W.position.y};return Y.color=R(L),Y.borderColor=j(Y),Y.data=k({},W.data,{xFormatted:ie(W.data.x),yFormatted:B(W.data.y)}),Y}))},[])},[S,R,j,ie,B])}({series:F,getPointColor:fe,getPointBorderColor:pe,formatX:ce,formatY:de}),V=Qr({enableSlices:be,points:X,width:a,height:m});return{legendData:me,toggleSerie:$,lineGenerator:Kr({curve:x}),areaGenerator:Zr({curve:x,yScale:Q,areaBaselineValue:O}),getColor:K,series:F,xScale:he,yScale:Q,slices:V,points:X}},er=function(e){var n=e.areaBlendMode,i=e.areaOpacity,u=e.color,l=e.fill,c=e.path,h=kr(),o=h.animate,a=h.config,m=He(c),t=Pr({color:u,config:a,immediate:!o});return p.jsx(Je.path,{d:m,fill:l||t.color,fillOpacity:i,strokeWidth:0,style:{mixBlendMode:n}})};er.propTypes={areaBlendMode:We.isRequired,areaOpacity:r.number.isRequired,color:r.string,fill:r.string,path:r.string.isRequired};var rr=function(e){var n=e.areaGenerator,i=e.areaOpacity,u=e.areaBlendMode,l=e.lines.slice(0).reverse();return p.jsx("g",{children:l.map(function(c){return p.jsx(er,k({path:n(c.data.map(function(h){return h.position}))},k({areaOpacity:i,areaBlendMode:u},c)),c.id)})})};rr.propTypes={areaGenerator:r.func.isRequired,areaOpacity:r.number.isRequired,areaBlendMode:We.isRequired,lines:r.arrayOf(r.object).isRequired};var Ur=f.memo(rr),nr=function(e){var n=e.lineGenerator,i=e.points,u=e.color,l=e.thickness,c=f.useMemo(function(){return n(i)},[n,i]),h=He(c);return p.jsx(Je.path,{d:h,fill:"none",strokeWidth:l,stroke:u})};nr.propTypes={points:r.arrayOf(r.shape({x:r.oneOfType([r.string,r.number]),y:r.oneOfType([r.string,r.number])})),lineGenerator:r.func.isRequired,color:r.string.isRequired,thickness:r.number.isRequired};var Nr=f.memo(nr),tr=function(e){var n=e.lines,i=e.lineGenerator,u=e.lineWidth;return n.slice(0).reverse().map(function(l){var c=l.id,h=l.data,o=l.color;return p.jsx(Nr,{id:c,points:h.map(function(a){return a.position}),lineGenerator:i,color:o,thickness:u},c)})};tr.propTypes={lines:r.arrayOf(r.shape({id:r.oneOfType([r.string,r.number]).isRequired,color:r.string.isRequired,data:r.arrayOf(r.shape({data:r.shape({x:r.oneOfType([r.string,r.number,r.instanceOf(Date)]),y:r.oneOfType([r.string,r.number,r.instanceOf(Date)])}).isRequired,position:r.shape({x:r.number,y:r.number}).isRequired})).isRequired})).isRequired,lineWidth:r.number.isRequired,lineGenerator:r.func.isRequired};var _r=f.memo(tr),ir=function(e){var n=e.slice,i=e.axis,u=e.debug,l=e.tooltip,c=e.isCurrent,h=e.setCurrent,o=e.onMouseEnter,a=e.onMouseMove,m=e.onMouseLeave,t=e.onClick,s=Ee(),y=s.showTooltipFromEvent,x=s.hideTooltip,C=f.useCallback(function(q){y(f.createElement(l,{slice:n,axis:i}),q,"right"),h(n),o&&o(n,q)},[y,l,n,o]),O=f.useCallback(function(q){y(f.createElement(l,{slice:n,axis:i}),q,"right"),a&&a(n,q)},[y,l,n,a]),T=f.useCallback(function(q){x(),h(null),m&&m(n,q)},[x,n,m]),P=f.useCallback(function(q){t&&t(n,q)},[n,t]);return p.jsx("rect",{x:n.x0,y:n.y0,width:n.width,height:n.height,stroke:"red",strokeWidth:u?1:0,strokeOpacity:.75,fill:"red",fillOpacity:c&&u?.35:0,onMouseEnter:C,onMouseMove:O,onMouseLeave:T,onClick:P,"data-testid":"slice-"+n.id})};ir.propTypes={slice:r.object.isRequired,axis:r.oneOf(["x","y"]).isRequired,debug:r.bool.isRequired,height:r.number.isRequired,tooltip:r.oneOfType([r.func,r.object]),isCurrent:r.bool.isRequired,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func};var en=f.memo(ir),or=function(e){var n=e.slices,i=e.axis,u=e.debug,l=e.height,c=e.tooltip,h=e.current,o=e.setCurrent,a=e.onMouseEnter,m=e.onMouseMove,t=e.onMouseLeave,s=e.onClick;return n.map(function(y){return p.jsx(en,{slice:y,axis:i,debug:u,height:l,tooltip:c,setCurrent:o,isCurrent:h!==null&&h.id===y.id,onMouseEnter:a,onMouseMove:m,onMouseLeave:t,onClick:s},y.id)})};or.propTypes={slices:r.arrayOf(r.shape({id:r.oneOfType([r.number,r.string,r.instanceOf(Date)]).isRequired,x:r.number.isRequired,y:r.number.isRequired,points:r.arrayOf(r.object).isRequired})).isRequired,axis:r.oneOf(["x","y"]).isRequired,debug:r.bool.isRequired,height:r.number.isRequired,tooltip:r.oneOfType([r.func,r.object]).isRequired,current:r.object,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func};var rn=f.memo(or),ar=function(e){var n=e.points,i=e.symbol,u=e.size,l=e.borderWidth,c=e.enableLabel,h=e.label,o=e.labelYOffset,a=qe(),m=xr(h),t=n.slice(0).reverse().map(function(s){return{id:s.id,x:s.x,y:s.y,datum:s.data,fill:s.color,stroke:s.borderColor,label:c?m(s.data):null}});return p.jsx("g",{children:t.map(function(s){return p.jsx(vr,{x:s.x,y:s.y,datum:s.datum,symbol:i,size:u,color:s.fill,borderWidth:l,borderColor:s.stroke,label:s.label,labelYOffset:o,theme:a},s.id)})})};ar.propTypes={points:r.arrayOf(r.object),symbol:r.func,size:r.number.isRequired,color:r.func.isRequired,borderWidth:r.number.isRequired,borderColor:r.func.isRequired,enableLabel:r.bool.isRequired,label:r.oneOfType([r.string,r.func]).isRequired,labelYOffset:r.number};var nn=f.memo(ar),sr=function(e){var n=e.points,i=e.width,u=e.height,l=e.margin,c=e.setCurrent,h=e.onMouseEnter,o=e.onMouseMove,a=e.onMouseLeave,m=e.onClick,t=e.tooltip,s=e.debug,y=Ee(),x=y.showTooltipAt,C=y.hideTooltip,O=f.useCallback(function(v,w){x(f.createElement(t,{point:v}),[v.x+l.left,v.y+l.top],"top"),c(v),h&&h(v,w)},[c,x,t,h,l]),T=f.useCallback(function(v,w){x(f.createElement(t,{point:v}),[v.x+l.left,v.y+l.top],"top"),c(v),o&&o(v,w)},[c,x,t,o]),P=f.useCallback(function(v,w){C(),c(null),a&&a(v,w)},[C,c,a]),q=f.useCallback(function(v,w){m&&m(v,w)},[m]);return p.jsx(Lr,{nodes:n,width:i,height:u,onMouseEnter:O,onMouseMove:T,onMouseLeave:P,onClick:q,debug:s})};sr.propTypes={points:r.arrayOf(r.object).isRequired,width:r.number.isRequired,height:r.number.isRequired,margin:r.object.isRequired,setCurrent:r.func.isRequired,onMouseEnter:r.func,onMouseMove:r.func,onMouseLeave:r.func,onClick:r.func,tooltip:r.oneOfType([r.func,r.object]).isRequired,debug:r.bool.isRequired};var tn=f.memo(sr),we=function(e){var n=e.data,i=e.xScale,u=e.xFormat,l=e.yScale,c=e.yFormat,h=e.layers,o=e.curve,a=e.areaBaselineValue,m=e.colors,t=e.margin,s=e.width,y=e.height,x=e.axisTop,C=e.axisRight,O=e.axisBottom,T=e.axisLeft,P=e.enableGridX,q=e.enableGridY,v=e.gridXValues,w=e.gridYValues,be=e.lineWidth,ce=e.enableArea,de=e.areaOpacity,K=e.areaBlendMode,ee=e.enablePoints,fe=e.pointSymbol,pe=e.pointSize,Z=e.pointColor,re=e.pointBorderWidth,ne=e.pointBorderColor,z=e.enablePointLabel,he=e.pointLabel,Q=e.pointLabelYOffset,U=e.defs,te=e.fill,me=e.markers,F=e.legends,$=e.isInteractive,X=e.useMesh,V=e.debugMesh,g=e.onMouseEnter,S=e.onMouseMove,R=e.onMouseLeave,j=e.onClick,ie=e.tooltip,B=e.enableSlices,H=e.debugSlices,L=e.sliceTooltip,W=e.enableCrosshair,N=e.crosshairType,Y=e.role,A=Ae(s,y,t),oe=A.margin,E=A.innerWidth,D=A.innerHeight,Ce=A.outerWidth,Me=A.outerHeight,G=_e({data:n,xScale:i,xFormat:u,yScale:l,yFormat:c,width:E,height:D,colors:m,curve:o,areaBaselineValue:a,pointColor:Z,pointBorderColor:ne,enableSlices:B}),Oe=G.legendData,Se=G.toggleSerie,ae=G.lineGenerator,xe=G.areaGenerator,ye=G.series,ge=G.xScale,d=G.yScale,M=G.slices,_=G.points,b=qe(),se=ke(Z,b),lr=ke(ne,b),Pe=f.useState(null),ve=Pe[0],Le=Pe[1],Ge=f.useState(null),Re=Ge[0],Fe=Ge[1],le={grid:p.jsx(Br,{theme:b,width:E,height:D,xScale:P?ge:null,yScale:q?d:null,xValues:v,yValues:w},"grid"),markers:p.jsx(qr,{markers:me,width:E,height:D,xScale:ge,yScale:d,theme:b},"markers"),axes:p.jsx(wr,{xScale:ge,yScale:d,width:E,height:D,theme:b,top:x,right:C,bottom:O,left:T},"axes"),areas:null,lines:p.jsx(_r,{lines:ye,lineGenerator:ae,lineWidth:be},"lines"),slices:null,points:null,crosshair:null,mesh:null,legends:F.map(function(ue,Te){return p.jsx(Rr,k({},ue,{containerWidth:E,containerHeight:D,data:ue.data||Oe,theme:b,toggleSerie:ue.toggleSerie?Se:void 0}),"legend."+Te)})},ur=Cr(U,ye,te);return ce&&(le.areas=p.jsx(Ur,{areaGenerator:xe,areaOpacity:de,areaBlendMode:K,lines:ye},"areas")),$&&B!==!1&&(le.slices=p.jsx(rn,{slices:M,axis:B,debug:H,height:D,tooltip:L,current:Re,setCurrent:Fe,onMouseEnter:g,onMouseMove:S,onMouseLeave:R,onClick:j},"slices")),ee&&(le.points=p.jsx(nn,{points:_,symbol:fe,size:pe,color:se,borderWidth:re,borderColor:lr,enableLabel:z,label:he,labelYOffset:Q},"points")),$&&W&&(ve!==null&&(le.crosshair=p.jsx(Ye,{width:E,height:D,x:ve.x,y:ve.y,type:N},"crosshair")),Re!==null&&(le.crosshair=p.jsx(Ye,{width:E,height:D,x:Re.x,y:Re.y,type:B},"crosshair"))),$&&X&&B===!1&&(le.mesh=p.jsx(tn,{points:_,width:E,height:D,margin:oe,current:ve,setCurrent:Le,onMouseEnter:g,onMouseMove:S,onMouseLeave:R,onClick:j,tooltip:ie,debug:V},"mesh")),p.jsx(Mr,{defs:ur,width:Ce,height:Me,margin:oe,role:Y,children:h.map(function(ue,Te){return typeof ue=="function"?p.jsx(f.Fragment,{children:ue(k({},e,{innerWidth:E,innerHeight:D,series:ye,slices:M,points:_,xScale:ge,yScale:d,lineGenerator:ae,areaGenerator:xe,currentPoint:ve,setCurrentPoint:Le,currentSlice:Re,setCurrentSlice:Fe}))},Te):le[ue]})})};we.propTypes=Ar,we.defaultProps=J;var on=$e(we),an=function(e){return p.jsx(ze,{children:function(n){var i=n.width,u=n.height;return p.jsx(on,k({width:i,height:u},e))}})},Be=function(e){var n=e.width,i=e.height,u=e.margin,l=e.pixelRatio,c=e.data,h=e.xScale,o=e.xFormat,a=e.yScale,m=e.yFormat,t=e.curve,s=e.layers,y=e.colors,x=e.lineWidth,C=e.enableArea,O=e.areaBaselineValue,T=e.areaOpacity,P=e.enablePoints,q=e.pointSize,v=e.pointColor,w=e.pointBorderWidth,be=e.pointBorderColor,ce=e.enableGridX,de=e.gridXValues,K=e.enableGridY,ee=e.gridYValues,fe=e.axisTop,pe=e.axisRight,Z=e.axisBottom,re=e.axisLeft,ne=e.legends,z=e.isInteractive,he=e.debugMesh,Q=e.onMouseLeave,U=e.onClick,te=e.tooltip,me=e.canvasRef,F=f.useRef(null),$=Ae(n,i,u),X=$.margin,V=$.innerWidth,g=$.innerHeight,S=$.outerWidth,R=$.outerHeight,j=qe(),ie=f.useState(null),B=ie[0],H=ie[1],L=_e({data:c,xScale:h,xFormat:o,yScale:a,yFormat:m,width:V,height:g,colors:y,curve:t,areaBaselineValue:O,pointColor:v,pointBorderColor:be}),W=L.lineGenerator,N=L.areaGenerator,Y=L.series,A=L.xScale,oe=L.yScale,E=L.points,D=Gr({points:E,width:V,height:g,debug:he}),Ce=D.delaunay,Me=D.voronoi;f.useEffect(function(){me&&(me.current=F.current),F.current.width=S*l,F.current.height=R*l;var d=F.current.getContext("2d");d.scale(l,l),d.fillStyle=j.background,d.fillRect(0,0,S,R),d.translate(X.left,X.top),s.forEach(function(M){if(typeof M=="function"&&M({ctx:d,innerWidth:V,innerHeight:g,series:Y,points:E,xScale:A,yScale:oe,lineWidth:x,lineGenerator:W,areaGenerator:N,currentPoint:B,setCurrentPoint:H}),M==="grid"&&j.grid.line.strokeWidth>0&&(d.lineWidth=j.grid.line.strokeWidth,d.strokeStyle=j.grid.line.stroke,ce&&Xe(d,{width:V,height:g,scale:A,axis:"x",values:de}),K&&Xe(d,{width:V,height:g,scale:oe,axis:"y",values:ee})),M==="axes"&&Wr(d,{xScale:A,yScale:oe,width:V,height:g,top:fe,right:pe,bottom:Z,left:re,theme:j}),M==="areas"&&C===!0&&(d.save(),d.globalAlpha=T,N.context(d),Y.forEach(function(b){d.fillStyle=b.color,d.beginPath(),N(b.data.map(function(se){return se.position})),d.fill()}),d.restore()),M==="lines"&&(W.context(d),Y.forEach(function(b){d.strokeStyle=b.color,d.lineWidth=x,d.beginPath(),W(b.data.map(function(se){return se.position})),d.stroke()})),M==="points"&&P===!0&&q>0&&E.forEach(function(b){d.fillStyle=b.color,d.beginPath(),d.arc(b.x,b.y,q/2,0,2*Math.PI),d.fill(),w>0&&(d.strokeStyle=b.borderColor,d.lineWidth=w,d.stroke())}),M==="mesh"&&he===!0&&(Fr(d,Me),B&&Vr(d,Me,B.index)),M==="legends"){var _=Y.map(function(b){return{id:b.id,label:b.id,color:b.color}}).reverse();ne.forEach(function(b){Or(d,k({},b,{data:b.data||_,containerWidth:V,containerHeight:g,theme:j}))})}})},[F,S,R,s,j,W,Y,A,oe,ce,de,K,ee,fe,pe,Z,re,ne,E,P,q,B]);var G=f.useCallback(function(d){var M=Sr(F.current,d),_=M[0],b=M[1];if(!jr(X.left,X.top,V,g,_,b))return null;var se=Ce.find(_-X.left,b-X.top);return E[se]},[F,X,V,g,Ce]),Oe=Ee(),Se=Oe.showTooltipFromEvent,ae=Oe.hideTooltip,xe=f.useCallback(function(d){var M=G(d);H(M),M?Se(f.createElement(te,{point:M}),d):ae()},[G,H,Se,ae,te]),ye=f.useCallback(function(d){ae(),H(null),B&&Q&&Q(B,d)},[ae,H,Q]),ge=f.useCallback(function(d){if(U){var M=G(d);M&&U(M,d)}},[G,U]);return p.jsx("canvas",{ref:F,width:S*l,height:R*l,style:{width:S,height:R,cursor:z?"auto":"normal"},onMouseEnter:z?xe:void 0,onMouseMove:z?xe:void 0,onMouseLeave:z?ye:void 0,onClick:z?ge:void 0})};Be.propTypes=Ir,Be.defaultProps=Jr;var sn=$e(Be),ln=f.forwardRef(function(e,n){return p.jsx(sn,k({},e,{canvasRef:n}))});f.forwardRef(function(e,n){return p.jsx(ze,{children:function(i){var u=i.width,l=i.height;return p.jsx(ln,k({width:u,height:l},e,{ref:n}))}})});const yn=({data:e=[],onFilter:n})=>p.jsx(an,{data:e,margin:{top:20,right:20,bottom:60,left:60},xScale:{type:"point"},yScale:{type:"linear",stacked:!1},axisBottom:{legend:"Fecha",legendOffset:40,legendPosition:"middle"},axisLeft:{legend:"Precio (COP)",legendOffset:-50,legendPosition:"middle",format:i=>Ve(i)},colors:{scheme:"category10"},tooltip:i=>p.jsxs("div",{style:{padding:4,background:"#fff"},children:[p.jsx("strong",{children:i.serieId}),p.jsx("br",{}),i.point.data.xFormatted,": ",Ve(i.point.data.y)]}),enablePoints:!1,legends:[{anchor:"top-left",direction:"row",translateY:-10,itemWidth:100,itemHeight:12,symbolSize:12}],useMesh:!0,onClick:i=>n==null?void 0:n(i),animate:!0,motionConfig:"gentle"});export{yn as default};
