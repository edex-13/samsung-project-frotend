import{X as ja,z as Ea,c as ca,V as fa,D as va,j as Ha}from"./nivo-axes.es-DLW9gzl7.js";import{S as La,R as Fa,j as Pa,J as Xa}from"./nivo-annotations.es-CSCjcoTB.js";import{j as D,r as T}from"./index-BzG-UDRL.js";import{R as ma,n as xa,J as wa,i as Ca,Z as Ya,B as Va,H as Da,f as Aa,_ as Oa,w as Ga,E as ha,k as Wa,G as oa,D as $a,p as za,c as pa,e as qa,o as Ja,l as Na,h as Za,F as da,A as Ka}from"./nivo-legends.es-DbnQh6rU.js";import{b as Qa,a as ua,q as ya}from"./isEqual-BBbCH6bZ.js";import{c as aa}from"./constant-BhYcI2Bl.js";var ka=Array.prototype.slice;function Ua(e,t){return e[t]}function _a(){var e=aa([]),t=ma,i=xa,a=Ua;function r(n){var c=e.apply(this,arguments),d,b=n.length,g=c.length,p=new Array(g),w;for(d=0;d<g;++d){for(var v=c[d],u=p[d]=new Array(b),m=0,h;m<b;++m)u[m]=h=[0,+a(n[m],v,m,n)],h.data=n[m];u.key=v}for(d=0,w=t(p);d<g;++d)p[w[d]].index=d;return i(p,w),p}return r.keys=function(n){return arguments.length?(e=typeof n=="function"?n:aa(ka.call(n)),r):e},r.value=function(n){return arguments.length?(a=typeof n=="function"?n:aa(+n),r):a},r.order=function(n){return arguments.length?(t=n==null?ma:typeof n=="function"?n:aa(ka.call(n)),r):t},r.offset=function(n){return arguments.length?(i=n??xa,r):i},r}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},H.apply(this,arguments)}function Ne(e,t){if(e==null)return{};var i,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}var Sa,et=function(e){var t=e.bars,i=e.annotations,a=La({data:t,annotations:i,getPosition:function(r){return{x:r.x+r.width/2,y:r.y+r.height/2}},getDimensions:function(r){var n=r.height,c=r.width;return{width:c,height:n,size:Math.max(c,n)}}});return D.jsx(D.Fragment,{children:a.map(function(r,n){return D.jsx(Fa,H({},r),n)})})},at=function(e){var t=e.width,i=e.height,a=e.legends,r=e.toggleSerie;return D.jsx(D.Fragment,{children:a.map(function(n,c){var d,b=n[0],g=n[1];return D.jsx(qa,H({},b,{containerWidth:t,containerHeight:i,data:(d=b.data)!=null?d:g,toggleSerie:b.toggleSerie&&b.dataFrom==="keys"?r:void 0}),c)})})},tt=["data"],nt=function(e){var t,i=e.bar,a=i.data,r=Ne(i,tt),n=e.style,c=n.borderColor,d=n.color,b=n.height,g=n.labelColor,p=n.labelOpacity,w=n.labelX,v=n.labelY,u=n.transform,m=n.width,h=e.borderRadius,C=e.borderWidth,k=e.label,s=e.shouldRenderLabel,y=e.isInteractive,x=e.onClick,F=e.onMouseEnter,W=e.onMouseLeave,I=e.tooltip,L=e.isFocusable,M=e.ariaLabel,V=e.ariaLabelledBy,P=e.ariaDescribedBy,X=ha(),R=Wa(),$=R.showTooltipFromEvent,O=R.showTooltipAt,A=R.hideTooltip,j=T.useMemo(function(){return function(){return T.createElement(I,H({},r,a))}},[I,r,a]),J=T.useCallback(function(Z){x==null||x(H({color:r.color},a),Z)},[r,a,x]),le=T.useCallback(function(Z){return $(j(),Z)},[$,j]),U=T.useCallback(function(Z){F==null||F(a,Z),$(j(),Z)},[a,F,$,j]),se=T.useCallback(function(Z){W==null||W(a,Z),A()},[a,A,W]),te=T.useCallback(function(){O(j(),[r.absX+r.width/2,r.absY])},[O,j,r]),je=T.useCallback(function(){A()},[A]);return D.jsxs(ua.g,{transform:u,children:[D.jsx(ua.rect,{width:ya(m,function(Z){return Math.max(Z,0)}),height:ya(b,function(Z){return Math.max(Z,0)}),rx:h,ry:h,fill:(t=a.fill)!=null?t:d,strokeWidth:C,stroke:c,focusable:L,tabIndex:L?0:void 0,"aria-label":M?M(a):void 0,"aria-labelledby":V?V(a):void 0,"aria-describedby":P?P(a):void 0,onMouseEnter:y?U:void 0,onMouseMove:y?le:void 0,onMouseLeave:y?se:void 0,onClick:y?J:void 0,onFocus:y&&L?te:void 0,onBlur:y&&L?je:void 0}),s&&D.jsx(ua.text,{x:w,y:v,textAnchor:"middle",dominantBaseline:"central",fillOpacity:p,style:H({},X.labels.text,{pointerEvents:"none",fill:g}),children:k})]})},rt=["color","label"],it=function(e){var t=e.color,i=e.label,a=Ne(e,rt);return D.jsx(Ga,{id:i,value:a.formattedValue,enableChip:!0,color:t})},G={indexBy:"id",keys:["value"],groupMode:"stacked",layout:"vertical",reverse:!1,minValue:"auto",maxValue:"auto",valueScale:{type:"linear"},indexScale:{type:"band",round:!0},padding:.1,innerPadding:0,axisBottom:{},axisLeft:{},enableGridX:!1,enableGridY:!0,enableLabel:!0,label:"formattedValue",labelSkipWidth:0,labelSkipHeight:0,labelTextColor:{from:"theme",theme:"labels.text.fill"},colorBy:"id",colors:{scheme:"nivo"},borderRadius:0,borderWidth:0,borderColor:{from:"color"},isInteractive:!0,tooltip:it,tooltipLabel:function(e){return e.id+" - "+e.indexValue},legends:[],initialHiddenIds:[],annotations:[],markers:[]},q=H({},G,{layers:["grid","axes","bars","markers","legends","annotations"],barComponent:nt,defs:[],fill:[],animate:!0,motionConfig:"default",role:"img",isFocusable:!1}),ie=H({},G,{layers:["grid","axes","bars","legends","annotations"],pixelRatio:typeof window<"u"&&(Sa=window.devicePixelRatio)!=null?Sa:1}),Ma=function(e,t,i,a,r,n){return ca(a,{all:e.map(t),min:0,max:0},r,n).padding(i)},Ba=function(e,t){return e.map(function(i){return H({},t.reduce(function(a,r){return a[r]=null,a},{}),i)})},ta=function(e){return Object.keys(e).reduce(function(t,i){return e[i]&&(t[i]=e[i]),t},{})},na=function(e){return[e,Number(e)]},lt=["layout","minValue","maxValue","reverse","width","height","padding","innerPadding","valueScale","indexScale","hiddenIds"],ba=function(e,t){return e>t},Ta=function(e,t){return e<t},Ia=function(e,t){return Array.from(" ".repeat(t-e),function(i,a){return e+a})},ot=function(e){return ba(e,0)?0:e},dt=function(e,t,i,a){var r=e.data,n=e.formatValue,c=e.getColor,d=e.getIndex,b=e.getTooltipLabel,g=e.innerPadding,p=g===void 0?0:g,w=e.keys,v=e.xScale,u=e.yScale,m=e.margin,h=i?Ta:ba,C=r.map(ta),k=[];return w.forEach(function(s,y){return Ia(0,v.domain().length).forEach(function(x){var F,W,I,L=na(r[x][s]),M=L[0],V=L[1],P=d(r[x]),X=((F=v(P))!=null?F:0)+t*y+p*y,R=h(W=V,0)?(I=u(W))!=null?I:0:a,$=function(A,j){var J;return h(A,0)?a-j:((J=u(A))!=null?J:0)-a}(V,R),O={id:s,value:M===null?M:V,formattedValue:n(V),hidden:!1,index:x,indexValue:P,data:C[x]};k.push({key:s+"."+O.indexValue,index:k.length,data:O,x:X,y:R,absX:m.left+X,absY:m.top+R,width:t,height:$,color:c(O),label:b(O)})})}),k},ut=function(e,t,i,a){var r=e.data,n=e.formatValue,c=e.getIndex,d=e.getColor,b=e.getTooltipLabel,g=e.keys,p=e.innerPadding,w=p===void 0?0:p,v=e.xScale,u=e.yScale,m=e.margin,h=i?Ta:ba,C=r.map(ta),k=[];return g.forEach(function(s,y){return Ia(0,u.domain().length).forEach(function(x){var F,W,I,L=na(r[x][s]),M=L[0],V=L[1],P=c(r[x]),X=h(W=V,0)?a:(I=v(W))!=null?I:0,R=((F=u(P))!=null?F:0)+t*y+w*y,$=function(A,j){var J;return h(A,0)?((J=v(A))!=null?J:0)-a:a-j}(V,X),O={id:s,value:M===null?M:V,formattedValue:n(V),hidden:!1,index:x,indexValue:P,data:C[x]};k.push({key:s+"."+O.indexValue,index:k.length,data:O,x:X,y:R,absX:m.left+X,absY:m.top+R,width:$,height:t,color:d(O),label:b(O)})})}),k},st=function(e){var t,i,a=e.layout,r=e.minValue,n=e.maxValue,c=e.reverse,d=e.width,b=e.height,g=e.padding,p=g===void 0?0:g,w=e.innerPadding,v=w===void 0?0:w,u=e.valueScale,m=e.indexScale,h=e.hiddenIds,C=h===void 0?[]:h,k=Ne(e,lt),s=k.keys.filter(function(U){return!C.includes(U)}),y=Ba(k.data,s),x=a==="vertical"?["y","x",d]:["x","y",b],F=x[0],W=x[1],I=x[2],L=Ma(y,k.getIndex,p,m,I,W),M=H({max:n,min:r,reverse:c},u),V=M.min==="auto"?ot:function(U){return U},P=y.reduce(function(U,se){return[].concat(U,s.map(function(te){return se[te]}))},[]).filter(Boolean),X=V(Math.min.apply(Math,P)),R=(i=Math.max.apply(Math,P),isFinite(i)?i:0),$=ca(M,{all:P,min:X,max:R},F==="x"?d:b,F),O=a==="vertical"?[L,$]:[$,L],A=O[0],j=O[1],J=(L.bandwidth()-v*(s.length-1))/s.length,le=[H({},k,{data:y,keys:s,innerPadding:v,xScale:A,yScale:j}),J,M.reverse,(t=$(0))!=null?t:0];return{xScale:A,yScale:j,bars:J>0?a==="vertical"?dt.apply(void 0,le):ut.apply(void 0,le):[]}},ct=["data","layout","minValue","maxValue","reverse","width","height","padding","valueScale","indexScale","hiddenIds"],ht=function e(t){var i;return t.some(Array.isArray)?e((i=[]).concat.apply(i,t)):t},bt=function(e,t,i){var a=e.formatValue,r=e.getColor,n=e.getIndex,c=e.getTooltipLabel,d=e.innerPadding,b=e.stackedData,g=e.xScale,p=e.yScale,w=e.margin,v=[];return b.forEach(function(u){return g.domain().forEach(function(m,h){var C,k,s=u[h],y=(C=g(n(s.data)))!=null?C:0,x=((k=function(V){return p(V[i?0:1])}(s))!=null?k:0)+.5*d,F=function(V,P){var X;return((X=p(V[i?1:0]))!=null?X:0)-P}(s,x)-d,W=na(s.data[u.key]),I=W[0],L=W[1],M={id:u.key,value:I===null?I:L,formattedValue:a(L),hidden:!1,index:h,indexValue:m,data:ta(s.data)};v.push({key:u.key+"."+m,index:v.length,data:M,x:y,y:x,absX:w.left+y,absY:w.top+x,width:t,height:F,color:r(M),label:c(M)})})}),v},gt=function(e,t,i){var a=e.formatValue,r=e.getColor,n=e.getIndex,c=e.getTooltipLabel,d=e.innerPadding,b=e.stackedData,g=e.xScale,p=e.yScale,w=e.margin,v=[];return b.forEach(function(u){return p.domain().forEach(function(m,h){var C,k,s=u[h],y=(C=p(n(s.data)))!=null?C:0,x=((k=function(V){return g(V[i?1:0])}(s))!=null?k:0)+.5*d,F=function(V,P){var X;return((X=g(V[i?0:1]))!=null?X:0)-P}(s,x)-d,W=na(s.data[u.key]),I=W[0],L=W[1],M={id:u.key,value:I===null?I:L,formattedValue:a(L),hidden:!1,index:h,indexValue:m,data:ta(s.data)};v.push({key:u.key+"."+m,index:v.length,data:M,x,y,absX:w.left+x,absY:w.top+y,width:F,height:t,color:r(M),label:c(M)})})}),v},ft=function(e){var t,i=e.data,a=e.layout,r=e.minValue,n=e.maxValue,c=e.reverse,d=e.width,b=e.height,g=e.padding,p=g===void 0?0:g,w=e.valueScale,v=e.indexScale,u=e.hiddenIds,m=u===void 0?[]:u,h=Ne(e,ct),C=h.keys.filter(function(J){return!m.includes(J)}),k=_a().keys(C).offset(Ja)(Ba(i,C)),s=a==="vertical"?["y","x",d]:["x","y",b],y=s[0],x=s[1],F=s[2],W=Ma(i,h.getIndex,p,v,F,x),I=H({max:n,min:r,reverse:c},w),L=(t=ht(k),w.type==="log"?t.filter(function(J){return J!==0}):t),M=Math.min.apply(Math,L),V=Math.max.apply(Math,L),P=ca(I,{all:L,min:M,max:V},y==="x"?d:b,y),X=a==="vertical"?[W,P]:[P,W],R=X[0],$=X[1],O=h.innerPadding>0?h.innerPadding:0,A=W.bandwidth(),j=[H({},h,{innerPadding:O,stackedData:k,xScale:R,yScale:$}),A,I.reverse];return{xScale:R,yScale:$,bars:A>0?a==="vertical"?bt.apply(void 0,j):gt.apply(void 0,j):[]}},vt=function(e){var t=e.bars,i=e.direction,a=e.from,r=e.groupMode,n=e.layout,c=e.legendLabel,d=e.reverse,b=Na(c??(a==="indexes"?"indexValue":"id"));return a==="indexes"?function(g,p,w){var v=fa(g.map(function(u){var m,h;return{id:(m=u.data.indexValue)!=null?m:"",label:w(u.data),hidden:u.data.hidden,color:(h=u.color)!=null?h:"#000"}}),function(u){return u.id});return p==="horizontal"&&v.reverse(),v}(t,n,b):function(g,p,w,v,u,m){var h=fa(g.map(function(C){var k;return{id:C.data.id,label:m(C.data),hidden:C.data.hidden,color:(k=C.color)!=null?k:"#000"}}),function(C){return C.id});return(p==="vertical"&&v==="stacked"&&w==="column"&&u!==!0||p==="horizontal"&&v==="stacked"&&u===!0)&&h.reverse(),h}(t,n,i,r,d,b)},Ra=function(e){var t=e.indexBy,i=t===void 0?G.indexBy:t,a=e.keys,r=a===void 0?G.keys:a,n=e.label,c=n===void 0?G.label:n,d=e.tooltipLabel,b=d===void 0?G.tooltipLabel:d,g=e.valueFormat,p=e.colors,w=p===void 0?G.colors:p,v=e.colorBy,u=v===void 0?G.colorBy:v,m=e.borderColor,h=m===void 0?G.borderColor:m,C=e.labelTextColor,k=C===void 0?G.labelTextColor:C,s=e.groupMode,y=s===void 0?G.groupMode:s,x=e.layout,F=x===void 0?G.layout:x,W=e.reverse,I=W===void 0?G.reverse:W,L=e.data,M=e.minValue,V=M===void 0?G.minValue:M,P=e.maxValue,X=P===void 0?G.maxValue:P,R=e.margin,$=e.width,O=e.height,A=e.padding,j=A===void 0?G.padding:A,J=e.innerPadding,le=J===void 0?G.innerPadding:J,U=e.valueScale,se=U===void 0?G.valueScale:U,te=e.indexScale,je=te===void 0?G.indexScale:te,Z=e.initialHiddenIds,$e=Z===void 0?G.initialHiddenIds:Z,Ee=e.enableLabel,ke=Ee===void 0?G.enableLabel:Ee,We=e.labelSkipWidth,be=We===void 0?G.labelSkipWidth:We,He=e.labelSkipHeight,Me=He===void 0?G.labelSkipHeight:He,Fe=e.legends,Pe=Fe===void 0?G.legends:Fe,Xe=e.legendLabel,Ye=T.useState($e??[]),Se=Ye[0],oe=Ye[1],ze=T.useCallback(function(S){oe(function(E){return E.indexOf(S)>-1?E.filter(function(he){return he!==S}):[].concat(E,[S])})},[]),Le=oa(i),we=oa(c),ge=oa(b),ce=$a(g),De=ha(),Be=za(w,u),ne=pa(h,De),fe=pa(k,De),K=(y==="grouped"?st:ft)({layout:F,reverse:I,data:L,getIndex:Le,keys:r,minValue:V,maxValue:X,width:$,height:O,getColor:Be,padding:j,innerPadding:le,valueScale:se,indexScale:je,hiddenIds:Se,formatValue:ce,getTooltipLabel:ge,margin:R}),z=K.bars,Ce=K.xScale,_=K.yScale,ve=T.useMemo(function(){return z.filter(function(S){return S.data.value!==null}).map(function(S,E){return H({},S,{index:E})})},[z]),me=T.useCallback(function(S){var E=S.width,he=S.height;return!!ke&&!(be>0&&E<be)&&!(Me>0&&he<Me)},[ke,be,Me]),xe=T.useMemo(function(){return r.map(function(S){var E=z.find(function(he){return he.data.id===S});return H({},E,{data:H({id:S},E==null?void 0:E.data,{hidden:Se.includes(S)})})})},[Se,r,z]),Ve=T.useMemo(function(){return Pe.map(function(S){return[S,vt({bars:S.dataFrom==="keys"?xe:z,direction:S.direction,from:S.dataFrom,groupMode:y,layout:F,legendLabel:Xe,reverse:I})]})},[Pe,xe,z,y,F,Xe,I]);return{bars:z,barsWithValue:ve,xScale:Ce,yScale:_,getIndex:Le,getLabel:we,getTooltipLabel:ge,formatValue:ce,getColor:Be,getBorderColor:ne,getLabelColor:fe,shouldRenderBarLabel:me,hiddenIds:Se,toggleSerie:ze,legendsWithData:Ve}},mt=["isInteractive","animate","motionConfig","theme","renderWrapper"],xt=function(e){var t=e.data,i=e.indexBy,a=e.keys,r=e.margin,n=e.width,c=e.height,d=e.groupMode,b=e.layout,g=e.reverse,p=e.minValue,w=e.maxValue,v=e.valueScale,u=e.indexScale,m=e.padding,h=e.innerPadding,C=e.axisTop,k=e.axisRight,s=e.axisBottom,y=s===void 0?q.axisBottom:s,x=e.axisLeft,F=x===void 0?q.axisLeft:x,W=e.enableGridX,I=W===void 0?q.enableGridX:W,L=e.enableGridY,M=L===void 0?q.enableGridY:L,V=e.gridXValues,P=e.gridYValues,X=e.layers,R=X===void 0?q.layers:X,$=e.barComponent,O=$===void 0?q.barComponent:$,A=e.enableLabel,j=A===void 0?q.enableLabel:A,J=e.label,le=e.labelSkipWidth,U=le===void 0?q.labelSkipWidth:le,se=e.labelSkipHeight,te=se===void 0?q.labelSkipHeight:se,je=e.labelTextColor,Z=e.markers,$e=Z===void 0?q.markers:Z,Ee=e.colorBy,ke=e.colors,We=e.defs,be=We===void 0?q.defs:We,He=e.fill,Me=He===void 0?q.fill:He,Fe=e.borderRadius,Pe=Fe===void 0?q.borderRadius:Fe,Xe=e.borderWidth,Ye=Xe===void 0?q.borderWidth:Xe,Se=e.borderColor,oe=e.annotations,ze=oe===void 0?q.annotations:oe,Le=e.legendLabel,we=e.tooltipLabel,ge=e.valueFormat,ce=e.isInteractive,De=ce===void 0?q.isInteractive:ce,Be=e.tooltip,ne=Be===void 0?q.tooltip:Be,fe=e.onClick,K=e.onMouseEnter,z=e.onMouseLeave,Ce=e.legends,_=e.role,ve=_===void 0?q.role:_,me=e.ariaLabel,xe=e.ariaLabelledBy,Ve=e.ariaDescribedBy,S=e.isFocusable,E=S===void 0?q.isFocusable:S,he=e.barAriaLabel,Te=e.barAriaLabelledBy,Ie=e.barAriaDescribedBy,Qe=e.initialHiddenIds,Ze=Ya(),Ue=Ze.animate,_e=Ze.config,Re=Va(n,c,r),qe=Re.outerWidth,ea=Re.outerHeight,Ae=Re.margin,de=Re.innerWidth,pe=Re.innerHeight,re=Ra({indexBy:i,label:J,tooltipLabel:we,valueFormat:ge,colors:ke,colorBy:Ee,borderColor:Se,labelTextColor:je,groupMode:d,layout:b,reverse:g,data:t,keys:a,minValue:p,maxValue:w,margin:Ae,width:de,height:pe,padding:m,innerPadding:h,valueScale:v,indexScale:u,enableLabel:j,labelSkipWidth:U,labelSkipHeight:te,legends:Ce,legendLabel:Le,initialHiddenIds:Qe}),Oe=re.bars,ra=re.barsWithValue,Ge=re.xScale,o=re.yScale,f=re.getLabel,Y=re.getTooltipLabel,N=re.getBorderColor,B=re.getLabelColor,ue=re.shouldRenderBarLabel,ee=re.toggleSerie,Q=re.legendsWithData,ia=Qa(ra,{keys:function(l){return l.key},from:function(l){return H({borderColor:N(l),color:l.color,height:0,labelColor:B(l),labelOpacity:0,labelX:l.width/2,labelY:l.height/2,transform:"translate("+l.x+", "+(l.y+l.height)+")",width:l.width},b==="vertical"?{}:{height:l.height,transform:"translate("+l.x+", "+l.y+")",width:0})},enter:function(l){return{borderColor:N(l),color:l.color,height:l.height,labelColor:B(l),labelOpacity:1,labelX:l.width/2,labelY:l.height/2,transform:"translate("+l.x+", "+l.y+")",width:l.width}},update:function(l){return{borderColor:N(l),color:l.color,height:l.height,labelColor:B(l),labelOpacity:1,labelX:l.width/2,labelY:l.height/2,transform:"translate("+l.x+", "+l.y+")",width:l.width}},leave:function(l){return H({borderColor:N(l),color:l.color,height:0,labelColor:B(l),labelOpacity:0,labelX:l.width/2,labelY:0,transform:"translate("+l.x+", "+(l.y+l.height)+")",width:l.width},b==="vertical"?{}:{labelX:0,labelY:l.height/2,height:l.height,transform:"translate("+l.x+", "+l.y+")",width:0})},config:_e,immediate:!Ue}),Je=T.useMemo(function(){return{borderRadius:Pe,borderWidth:Ye,enableLabel:j,isInteractive:De,labelSkipWidth:U,labelSkipHeight:te,onClick:fe,onMouseEnter:K,onMouseLeave:z,getTooltipLabel:Y,tooltip:ne,isFocusable:E,ariaLabel:he,ariaLabelledBy:Te,ariaDescribedBy:Ie}},[Pe,Ye,j,Y,De,te,U,fe,K,z,ne,E,he,Te,Ie]),Ke=Da(be,Oe,Me,{dataKey:"data",targetKey:"data.fill"}),ye={annotations:null,axes:null,bars:null,grid:null,legends:null,markers:null};R.includes("annotations")&&(ye.annotations=D.jsx(et,{bars:Oe,annotations:ze},"annotations")),R.includes("axes")&&(ye.axes=D.jsx(ja,{xScale:Ge,yScale:o,width:de,height:pe,top:C,right:k,bottom:y,left:F},"axes")),R.includes("bars")&&(ye.bars=D.jsx(T.Fragment,{children:ia(function(l,ae){return T.createElement(O,H({},Je,{bar:ae,style:l,shouldRenderLabel:ue(ae),label:f(ae.data)}))})},"bars")),R.includes("grid")&&(ye.grid=D.jsx(Ea,{width:de,height:pe,xScale:I?Ge:null,yScale:M?o:null,xValues:V,yValues:P},"grid")),R.includes("legends")&&(ye.legends=D.jsx(at,{width:de,height:pe,legends:Q,toggleSerie:ee},"legends")),R.includes("markers")&&(ye.markers=D.jsx(Aa,{markers:$e,width:de,height:pe,xScale:Ge,yScale:o},"markers"));var la=T.useMemo(function(){return H({},Je,{margin:Ae,width:n,height:c,innerWidth:de,innerHeight:pe,bars:Oe,legendData:Q,enableLabel:j,xScale:Ge,yScale:o,tooltip:ne,getTooltipLabel:Y,onClick:fe,onMouseEnter:K,onMouseLeave:z})},[Je,Ae,n,c,de,pe,Oe,Q,j,Ge,o,ne,Y,fe,K,z]);return D.jsx(Oa,{width:qe,height:ea,margin:Ae,defs:Ke,role:ve,ariaLabel:me,ariaLabelledBy:xe,ariaDescribedBy:Ve,isFocusable:E,children:R.map(function(l,ae){var ga;return typeof l=="function"?D.jsx(T.Fragment,{children:T.createElement(l,la)},ae):(ga=ye==null?void 0:ye[l])!=null?ga:null})})},pt=function(e){var t=e.isInteractive,i=t===void 0?q.isInteractive:t,a=e.animate,r=a===void 0?q.animate:a,n=e.motionConfig,c=n===void 0?q.motionConfig:n,d=e.theme,b=e.renderWrapper,g=Ne(e,mt);return D.jsx(Ca,{animate:r,isInteractive:i,motionConfig:c,renderWrapper:b,theme:d,children:D.jsx(xt,H({isInteractive:i},g))})},yt=["isInteractive","renderWrapper","theme"],sa=function(e,t,i,a){return e.find(function(r){return Ka(r.x+t.left,r.y+t.top,r.width,r.height,i,a)})},kt=function(e){var t=e.data,i=e.indexBy,a=e.keys,r=e.margin,n=e.width,c=e.height,d=e.groupMode,b=e.layout,g=e.reverse,p=e.minValue,w=e.maxValue,v=e.valueScale,u=e.indexScale,m=e.padding,h=e.innerPadding,C=e.axisTop,k=e.axisRight,s=e.axisBottom,y=s===void 0?ie.axisBottom:s,x=e.axisLeft,F=x===void 0?ie.axisLeft:x,W=e.enableGridX,I=W===void 0?ie.enableGridX:W,L=e.enableGridY,M=L===void 0?ie.enableGridY:L,V=e.gridXValues,P=e.gridYValues,X=e.layers,R=X===void 0?ie.layers:X,$=e.renderBar,O=$===void 0?function(o,f){var Y=f.bar,N=Y.color,B=Y.height,ue=Y.width,ee=Y.x,Q=Y.y,ia=f.borderColor,Je=f.borderRadius,Ke=f.borderWidth,ye=f.label,la=f.labelColor,l=f.shouldRenderLabel;if(o.fillStyle=N,Ke>0&&(o.strokeStyle=ia,o.lineWidth=Ke),o.beginPath(),Je>0){var ae=Math.min(Je,B);o.moveTo(ee+ae,Q),o.lineTo(ee+ue-ae,Q),o.quadraticCurveTo(ee+ue,Q,ee+ue,Q+ae),o.lineTo(ee+ue,Q+B-ae),o.quadraticCurveTo(ee+ue,Q+B,ee+ue-ae,Q+B),o.lineTo(ee+ae,Q+B),o.quadraticCurveTo(ee,Q+B,ee,Q+B-ae),o.lineTo(ee,Q+ae),o.quadraticCurveTo(ee,Q,ee+ae,Q),o.closePath()}else o.rect(ee,Q,ue,B);o.fill(),Ke>0&&o.stroke(),l&&(o.textBaseline="middle",o.textAlign="center",o.fillStyle=la,o.fillText(ye,ee+ue/2,Q+B/2))}:$,A=e.enableLabel,j=A===void 0?ie.enableLabel:A,J=e.label,le=e.labelSkipWidth,U=le===void 0?ie.labelSkipWidth:le,se=e.labelSkipHeight,te=se===void 0?ie.labelSkipHeight:se,je=e.labelTextColor,Z=e.colorBy,$e=e.colors,Ee=e.borderRadius,ke=Ee===void 0?ie.borderRadius:Ee,We=e.borderWidth,be=We===void 0?ie.borderWidth:We,He=e.borderColor,Me=e.annotations,Fe=Me===void 0?ie.annotations:Me,Pe=e.legendLabel,Xe=e.tooltipLabel,Ye=e.valueFormat,Se=e.isInteractive,oe=Se===void 0?ie.isInteractive:Se,ze=e.tooltip,Le=ze===void 0?ie.tooltip:ze,we=e.onClick,ge=e.onMouseEnter,ce=e.onMouseLeave,De=e.legends,Be=e.pixelRatio,ne=Be===void 0?ie.pixelRatio:Be,fe=e.canvasRef,K=T.useRef(null),z=ha(),Ce=Va(n,c,r),_=Ce.margin,ve=Ce.innerWidth,me=Ce.innerHeight,xe=Ce.outerWidth,Ve=Ce.outerHeight,S=Ra({indexBy:i,label:J,tooltipLabel:Xe,valueFormat:Ye,colors:$e,colorBy:Z,borderColor:He,labelTextColor:je,groupMode:d,layout:b,reverse:g,data:t,keys:a,minValue:p,maxValue:w,margin:_,width:ve,height:me,padding:m,innerPadding:h,valueScale:v,indexScale:u,enableLabel:j,labelSkipWidth:U,labelSkipHeight:te,legends:De,legendLabel:Pe}),E=S.bars,he=S.barsWithValue,Te=S.xScale,Ie=S.yScale,Qe=S.getLabel,Ze=S.getTooltipLabel,Ue=S.getBorderColor,_e=S.getLabelColor,Re=S.shouldRenderBarLabel,qe=S.legendsWithData,ea=Wa(),Ae=ea.showTooltipFromEvent,de=ea.hideTooltip,pe=Pa({annotations:La({data:E,annotations:Fe,getPosition:function(o){return{x:o.x,y:o.y}},getDimensions:function(o){var f=o.width,Y=o.height;return{width:f,height:Y,size:Math.max(f,Y)}}})}),re=T.useMemo(function(){return{borderRadius:ke,borderWidth:be,isInteractive:oe,isFocusable:!1,labelSkipWidth:U,labelSkipHeight:te,margin:_,width:n,height:c,innerWidth:ve,innerHeight:me,bars:E,legendData:qe,enableLabel:j,xScale:Te,yScale:Ie,tooltip:Le,getTooltipLabel:Ze,onClick:we,onMouseEnter:ge,onMouseLeave:ce}},[ke,be,oe,U,te,_,n,c,ve,me,E,qe,j,Te,Ie,Le,Ze,we,ge,ce]);T.useEffect(function(){var o,f=(o=K.current)==null?void 0:o.getContext("2d");K.current&&f&&(K.current.width=xe*ne,K.current.height=Ve*ne,f.scale(ne,ne),f.fillStyle=z.background,f.fillRect(0,0,xe,Ve),f.translate(_.left,_.top),R.forEach(function(Y){Y==="grid"?typeof z.grid.line.strokeWidth=="number"&&z.grid.line.strokeWidth>0&&(f.lineWidth=z.grid.line.strokeWidth,f.strokeStyle=z.grid.line.stroke,I&&va(f,{width:n,height:c,scale:Te,axis:"x",values:V}),M&&va(f,{width:n,height:c,scale:Ie,axis:"y",values:P})):Y==="axes"?Ha(f,{xScale:Te,yScale:Ie,width:ve,height:me,top:C,right:k,bottom:y,left:F,theme:z}):Y==="bars"?he.forEach(function(N){O(f,{bar:N,borderColor:Ue(N),borderRadius:ke,borderWidth:be,label:Qe(N.data),labelColor:_e(N),shouldRenderLabel:Re(N)})}):Y==="legends"?qe.forEach(function(N){var B=N[0],ue=N[1];Za(f,H({},B,{data:ue,containerWidth:ve,containerHeight:me,theme:z}))}):Y==="annotations"?Xa(f,{annotations:pe,theme:z}):typeof Y=="function"&&Y(f,re)}),f.save())},[y,F,k,C,he,ke,be,pe,I,M,Ue,Qe,_e,V,P,d,c,me,ve,re,R,b,qe,_.left,_.top,Ve,xe,ne,O,Te,Ie,g,Re,z,n]);var Oe=T.useCallback(function(o){if(E&&K.current){var f=da(K.current,o),Y=f[0],N=f[1],B=sa(E,_,Y,N);B!==void 0?(Ae(T.createElement(Le,H({},B.data,{color:B.color,label:B.label,value:Number(B.data.value)})),o),o.type==="mouseenter"&&(ge==null||ge(B.data,o))):de()}},[de,_,ge,E,Ae,Le]),ra=T.useCallback(function(o){if(E&&K.current){de();var f=da(K.current,o),Y=f[0],N=f[1],B=sa(E,_,Y,N);B&&(ce==null||ce(B.data,o))}},[de,_,ce,E]),Ge=T.useCallback(function(o){if(E&&K.current){var f=da(K.current,o),Y=f[0],N=f[1],B=sa(E,_,Y,N);B!==void 0&&(we==null||we(H({},B.data,{color:B.color}),o))}},[_,we,E]);return D.jsx("canvas",{ref:function(o){K.current=o,fe&&"current"in fe&&(fe.current=o)},width:xe*ne,height:Ve*ne,style:{width:xe,height:Ve,cursor:oe?"auto":"normal"},onMouseEnter:oe?Oe:void 0,onMouseMove:oe?Oe:void 0,onMouseLeave:oe?ra:void 0,onClick:oe?Ge:void 0})},St=T.forwardRef(function(e,t){var i=e.isInteractive,a=e.renderWrapper,r=e.theme,n=Ne(e,yt);return D.jsx(Ca,{isInteractive:i,renderWrapper:a,theme:r,animate:!1,children:D.jsx(kt,H({},n,{canvasRef:t}))})}),Bt=function(e){return D.jsx(wa,{children:function(t){var i=t.width,a=t.height;return D.jsx(pt,H({width:i,height:a},e))}})};T.forwardRef(function(e,t){return D.jsx(wa,{children:function(i){var a=i.width,r=i.height;return D.jsx(St,H({width:a,height:r},e,{ref:t}))}})});export{Bt as B};
